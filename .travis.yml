osx_image: xcode10.1
language: objective-c
cache: cocoapods
podfile: Example/Podfile
before_install:
- gem install cocoapods
- pod repo update
- pod install --project-directory=Example
script:
- set -o pipefail && xcodebuild test -enableCodeCoverage YES -workspace Example/com.awareframework.ios.sensor.calls.xcworkspace
  -scheme com.awareframework.ios.sensor.calls-Example -sdk iphonesimulator12.1 -destination
  OS=12.1,name="iPhone X" ONLY_ACTIVE_ARCH=NO CODE_SIGNING_REQUIRED=NO -allowProvisioningUpdates
  | XCPRETTY
deploy:
  provider: script
  script: "./scripts/release.sh"
  on:
    tags: true
after_success:
- echo 'success!'
env:
  global:
  - secure: Nwnm/NUwJvUFL3GcJ3s5SyfSJqaB4g10OD/50X2ph8DtmY+bJEDFmndQHnU9nqVhqVveLmTeyp2hg3BUMEhRf2OXjmhBVGP+xfLdlumCgpHvQTG+BHiuVOHXza2ZXXDMR9gJnvhHxAYSAM8H2WsObkZgpbenckpzKkgnH3uPel4C4l4YHO6PXTU7MMQ6t74NZ4YDOe04/gTOLztSgag8s4DrrMCjcHT+I3ks2zYQtD5mfN95I50UPsOb6CkAcPEMQTXDycrhcK5JpuHwGuu9gHuGq2ma1BnJh3aISAlRiDZ81SUxw1VxVaAc65Ojcxn6Z4YmsvKCv1YrrDoyt4aOmxM4V/MfblBPqnwNKHHPVCs0prdIwRAy8M5ndQMrKerQe5e+uv7EL8gu6ueUgnffMs4AzbWH/59SA/8QN3tf8MAL4qbKwj3QRRmNfsJANaQAatmLqUZs8VkwVvUMp5DL+YF506oP+FkoF9bjybXROg14YQvmIU0Jnoe1fGg5KXF+QZqf4ZapaVFoiVohOJYrvs2ydCSi6dSLbZ/4YromvYDjL3uZN6aFDASzRCJNT3Jjrp9TgxCZX+ox8SVzwWyWX1G79UkwUgKZ9xo17rC9JXX7TGd6PgklHd5ycO5Cu4U17oFfYZYOJOLmKQoPalnNlzzsug2G8B86Ce4wI7FYfrI=
notifications:
  slack:
    secure: db8QLM1NUcDRCamOXP+mEMvssqAWYHgtLXa0KfuAkNBbi1pH2nZei7lv2L9zi6KzszvQS4J6BtQ4I04LaeNGFS7KHkYmk6ozKSiHZOv/0AEEMZYmceRkSPGjgA/OEkJTXhsj1mRsVB7jBlm6pgHytWx4yQ6Tnj0bzkdPJYPt7JA9n7nY5kAolsLEg9mqdPT53OaHYhNo04e3KZ1R2JLrL6TpBfc3uzi/WIJTNYkf7qWMIYu2sA1bQdgOYKSzmpdZhuUaGvrgUqn2hd6rF3nJYDP9Bv9SvRVmzJkXIM7sva+bESWAnnDB2zYn5pyGL0+n3efuXEaOzhtKgTpZThIiQkpF9AZ4bL8mzDyCJ3WlGfvdWsiSAEYOomQRuOlZTtZV3f33be7ZGdjMqt3y3CqTNmAalKCs8RPJx5g+YJzrBOtmfPm9Ff+mjzyXRIFPVKgsts6f/QPZJRNoFg+NuoWUc04WdNP1AkT3mQjLYqd7zcJSABQM4SY49VieszT4ZAS5Kmz/HGz8Px/VaEHl//thGj/zxA8go6YVaFR7kbQ5kvz2FWyjuGcW2syFJVhnu+DNs1dX65GGQUfE1gtmfMEhep67edJg1bQQ8de0gHmVxq35DFuwhdvpSBJcGHC8tdF13kVpC1nBeHsno4vHkx2iismcpc5YAzv9oQLfJy1xkO0=
